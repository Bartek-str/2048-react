(this["webpackJsonp2048-react"]=this["webpackJsonp2048-react"]||[]).push([[0],{20:function(e,t,a){e.exports=a(31)},25:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(17),s=a.n(n),i=(a(25),a(8)),c=a(9),l=a(11),h=a(10);var u=function(){return o.a.createElement("div",{className:"Icon"},"2048")};var m=function(){return o.a.createElement("div",{className:"text"},"Your next goal is to get to the ",o.a.createElement("span",null,"2048 tile!"))},v=function(e){var t=e.cellValue,a="cell",r=0===t?"":t;return r&&(a+=" color-".concat(r)),o.a.createElement("td",null,o.a.createElement("div",{className:a},o.a.createElement("div",{className:"number"},r)))},d=function(e){var t=e.row;return o.a.createElement("tr",{className:"row"},t.map((function(e,t){return o.a.createElement(v,{key:t,cellValue:e})})))},f=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={board:[],score:0,gameOver:!1,bestScore:0,howToPlay:!1},r}return Object(c.a)(a,[{key:"initBoard",value:function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];e=this.placeRandom(this.placeRandom(e)),this.setState({board:e,score:0,gameOver:!1})}},{key:"placeRandom",value:function(e){var t=this.getBlankCoordinates(e),a=t[Math.floor(Math.random()*t.length)];return e[a[0]][a[1]]=this.randomStartingNumber(),e}},{key:"getBlankCoordinates",value:function(e){for(var t=[],a=0;a<e.length;a++)for(var r=0;r<e[a].length;r++)0===e[a][r]&&t.push([a,r]);return t}},{key:"randomStartingNumber",value:function(){var e=[2,4];return e[Math.floor(Math.random()*e.length)]}},{key:"componentWillMount",value:function(){this.initBoard(),document.addEventListener("keydown",this.handleOnPress.bind(this))}},{key:"handleOnPress",value:function(e){38===e.keyCode&&this.move("up"),39===e.keyCode&&this.move("right"),40===e.keyCode&&this.move("down"),37===e.keyCode&&this.move("left")}},{key:"boardMoved",value:function(e,t){return JSON.stringify(t)!==JSON.stringify(e)}},{key:"move",value:function(e){var t,a,r,o,n,s,i,c;this.state.gameOver||("up"===e&&(t=this.moveUp(this.state.board),this.boardMoved(this.state.board,t.board)&&(a=this.placeRandom(t.board),this.checkForGameOver(a)?this.setState({board:a,gameOver:!0}):this.setState({board:a,score:this.state.score+=t.score}))),"right"===e&&(r=this.moveRight(this.state.board),this.boardMoved(this.state.board,r.board)&&(o=this.placeRandom(r.board),this.checkForGameOver(o)?this.setState({board:o,gameOver:!0}):this.setState({board:o,score:this.state.score+=r.score}))),"down"===e&&(n=this.moveDown(this.state.board),this.boardMoved(this.state.board,n.board)&&(s=this.placeRandom(n.board),this.checkForGameOver(s)?this.setState({board:s,gameOver:!0}):this.setState({board:s,score:this.state.score+=n.score}))),"left"===e&&(i=this.moveLeft(this.state.board),this.boardMoved(this.state.board,i.board)&&(c=this.placeRandom(i.board),this.checkForGameOver(c)?this.setState({board:c,gameOver:!0}):this.setState({board:c,score:this.state.score+=i.score}))))}},{key:"moveUp",value:function(e){for(var t=this.rotateRight(e),a=[],r=0,o=0;o<t.length;o++){for(var n=[],s=0;s<t[o].length;s++){var i=t[o][s];0===i?n.unshift(i):n.push(i)}a.push(n)}for(var c=0;c<a.length;c++)for(var l=a[c].length-1;l>=0;l--)a[c][l]>0&&a[c][l]===a[c][l-1]?(a[c][l]=2*a[c][l],a[c][l-1]=0,r+=a[c][l]):0===a[c][l]&&a[c][l-1]>0&&(a[c][l]=a[c][l-1],a[c][l-1]=0);return{board:a=this.rotateLeft(a),score:r}}},{key:"moveRight",value:function(e){for(var t=[],a=0,r=0;r<e.length;r++){for(var o=[],n=0;n<e[r].length;n++){var s=e[r][n];0===s?o.unshift(s):o.push(s)}t.push(o)}for(var i=0;i<t.length;i++)for(var c=t[i].length-1;c>=0;c--)t[i][c]>0&&t[i][c]===t[i][c-1]?(t[i][c]=2*t[i][c],t[i][c-1]=0,a+=t[i][c]):0===t[i][c]&&t[i][c-1]>0&&(t[i][c]=t[i][c-1],t[i][c-1]=0);return{board:t,score:a}}},{key:"moveDown",value:function(e){for(var t=this.rotateRight(e),a=[],r=0,o=0;o<t.length;o++){for(var n=[],s=t[o].length-1;s>=0;s--){var i=t[o][s];0===i?n.push(i):n.unshift(i)}a.push(n)}for(var c=0;c<a.length;c++)for(var l=0;l<a.length;l++)a[c][l]>0&&a[c][l]===a[c][l+1]?(a[c][l]=2*a[c][l],a[c][l+1]=0,r+=a[c][l]):0===a[c][l]&&a[c][l+1]>0&&(a[c][l]=a[c][l+1],a[c][l+1]=0);return{board:a=this.rotateLeft(a),score:r}}},{key:"moveLeft",value:function(e){for(var t=[],a=0,r=0;r<e.length;r++){for(var o=[],n=e[r].length-1;n>=0;n--){var s=e[r][n];0===s?o.push(s):o.unshift(s)}t.push(o)}for(var i=0;i<t.length;i++)for(var c=0;c<t.length;c++)t[i][c]>0&&t[i][c]===t[i][c+1]?(t[i][c]=2*t[i][c],t[i][c+1]=0,a+=t[i][c]):0===t[i][c]&&t[i][c+1]>0&&(t[i][c]=t[i][c+1],t[i][c+1]=0);return{board:t,score:a}}},{key:"rotateRight",value:function(e){for(var t=[],a=0;a<e.length;a++){for(var r=[],o=e.length-1;o>=0;o--)r.push(e[o][a]);t.push(r)}return t}},{key:"rotateLeft",value:function(e){for(var t=[],a=e.length-1;a>=0;a--){for(var r=[],o=e.length-1;o>=0;o--)r.unshift(e[o][a]);t.push(r)}return t}},{key:"checkForGameOver",value:function(e){return![this.boardMoved(e,this.moveUp(e).board),this.boardMoved(e,this.moveRight(e).board),this.boardMoved(e,this.moveDown(e).board),this.boardMoved(e,this.moveLeft(e).board)].includes(!0)}},{key:"componentDidUpdate",value:function(){this.state.score>this.state.bestScore&&this.setState({bestScore:this.state.score})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"Top"},o.a.createElement("div",{className:"upper"},o.a.createElement(u,null),o.a.createElement("div",{className:"ScoreBar"},o.a.createElement("div",{className:"Score"},o.a.createElement("div",{className:"scoreTitle",id:"title1"},"Score"),o.a.createElement("div",{className:"scorePoints"},this.state.score)),o.a.createElement("div",{className:"BestScore"},o.a.createElement("div",{className:"bestScoreTitle",id:"title2"},"Best"),o.a.createElement("div",{className:"bestScorePoints"},this.state.bestScore)))),o.a.createElement("div",{className:"lower"},o.a.createElement(m,null),o.a.createElement("div",{className:"newGame",onClick:function(){return e.initBoard()}},"New Game"))),o.a.createElement("div",{className:"GameContainer"},o.a.createElement("table",null,this.state.board.map((function(e,t){return o.a.createElement(d,{key:t,row:e})})))),!0===this.state.gameOver?o.a.createElement("div",{className:"gameOver"},o.a.createElement("div",null,"Game over"),o.a.createElement("button",{onClick:function(){return e.initBoard()}},"New Game")):"",o.a.createElement("div",{className:"howToPlay",onClick:function(){return e.setState({howToPlay:!e.state.howToPlay})}},this.state.howToPlay?"Hide":"How to play"),this.state.howToPlay?o.a.createElement("div",{className:"instruction"},"Use your ",o.a.createElement("span",null,"arrow keys")," to move the tiles. When two tiles with the same number touch, they ",o.a.createElement("span",null,"merge into one!")):"")}}]),a}(r.Component),b=a(18),g=a(1),p=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b.a,null,o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/",component:f}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=document.getElementById("root");s.a.render(o.a.createElement(p,null),k),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.9e006d89.chunk.js.map